000000 TEST Test ConcurrentStarts: concurrent Start()s
Test (2B): concurrent Start()s ...
000602 VOTE C1 start election, term is 1
000602 VOTE C2 start election, term is 1
000602 STAT F0 become follower
000602 VOTE F0 vote for 1
000602 STAT C1 become leader
000603 STAT F2 become follower
000972 CLNT L1 received command
000972 CMIT L1 commit success, commitIndex from 0 to 1
000972 CLNT L1 received command
000972 CLNT L1 received command
000972 CMIT F0 update commitIndex to 1
000972 CMIT L1 commit success, commitIndex from 1 to 3
000972 CMIT F2 update commitIndex to 3
000972 CLNT L1 received command
000972 CLNT L1 received command
000973 CMIT F0 update commitIndex to 3
000972 CLNT L1 received command
000973 CMIT L1 commit success, commitIndex from 3 to 6
000973 DROP F0 MISMATCH lastIndex is 3 but prevlogindex is 5
000973 INFO F0 update nextIndex from 6 to 4
000973 DROP F0 MISMATCH lastIndex is 3 but prevlogindex is 5
000973 CMIT F2 update commitIndex to 6
000973 INFO F0 update nextIndex from 6 to 4
panic: runtime error: index out of range [4] with length 4

goroutine 15 [running]:
MyRaft/raft.(*Raft).applyLog(0xc0002061e0)
	/home/firefly/Codes/go/myraft/raft/append_entries.go:279 +0x185
created by MyRaft/raft.Make in goroutine 6
	/home/firefly/Codes/go/myraft/raft/raft.go:273 +0x336
exit status 2
FAIL	MyRaft/raft	0.979s
