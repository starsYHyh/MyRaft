000000 TEST Test Rejoin: rejoin of partitioned leader
Test (2B): rejoin of partitioned leader ...
000482 VOTE C2 start election, term is 1
000482 STAT F0 become follower
000482 STAT F1 become follower
000482 VOTE F0 vote for 2
000482 VOTE F1 vote for 2
000482 STAT C2 become leader
000504 CLNT L2 received command
000504 CMIT L2 commit success, commitIndex from 0 to 1
000602 CMIT F1 update commitIndex to 1
000603 CMIT F0 update commitIndex to 1
001084 LOG1 L2 disconnected
001084 CLNT L2 received command
001205 CLNT L2 received command
001325 CLNT L2 received command
001565 VOTE C0 start election, term is 2
001566 VOTE C1 start election, term is 2
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
002076 STAT F1 become follower
002206 STAT F0 become follower
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
002800 VOTE C1 start election, term is 3
002801 STAT F0 become follower
002801 VOTE F0 vote for 1
002801 STAT C1 become leader
002812 CLNT L1 received command
002812 CMIT L1 commit success, commitIndex from 1 to 2
ClientEnd.Call(): server failed to reply
002922 CMIT F0 update commitIndex to 2
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
003466 LOG1 L1 disconnected
003466 LOG2 L2 reconnected
003466 CLNT L2 received command
003466 STAT F2 become follower
003501 VOTE C2 start election, term is 4
003501 STAT F0 become follower
003501 VOTE F0 refuse vote for C2 because of already have leader
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
003887 STAT F2 become follower
004136 VOTE C0 start election, term is 5
004137 STAT F2 become follower
004137 VOTE F2 vote for 0
004137 STAT C0 become leader
004137 DROP F2 MISMATCH lastTerm is 1 but prevlogterm is 3
004137 INFO F2 update nextIndex from 3 to 1
004378 CMIT F2 update commitIndex to 2
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
ClientEnd.Call(): server failed to reply
005605 CLNT L0 received command
005606 CMIT L0 commit success, commitIndex from 2 to 3
ClientEnd.Call(): server failed to reply
005710 CMIT F2 update commitIndex to 3
ClientEnd.Call(): server failed to reply
005728 LOG2 L1 reconnected
005728 CLNT L1 received command
005728 STAT F1 become follower
005817 VOTE C1 start election, term is 6
005817 STAT F0 become follower
005817 VOTE F0 refuse vote for C1 because of already have leader
005817 STAT F2 become follower
005817 VOTE F2 vote for 1
005818 STAT C1 become leader
005818 DROP F0 MISMATCH lastTerm is 5 but prevlogterm is 3
005818 INFO F0 update nextIndex from 4 to 3
005818 CMIT L1 commit success, commitIndex from 2 to 3
1: log map[1:101 2:103]; server map[1:101 2:103 3:104]
1: log map[1:101 2:103]; server map[1:101 2:103 3:104]
apply error: commit index=3 server=1 105 != server=2 104
exit status 1
FAIL	MyRaft/raft	5.821s
